{"is_source_file": true, "format": "JavaScript", "description": "This file defines a client-side application store for Recipe Explorer, managing recipes, filters, sorting, pagination, favorites, loading states, and persistence via localStorage. It also includes functions to load recipes asynchronously from a service.", "external_files": ["@lightningjs/blits", "../services/recipesService.js"], "external_methods": ["listRecipes"], "published": ["setRecipes", "setLoading", "setError", "setQuery", "setFilters", "replaceFilters", "setSort", "setPage", "toggleFavorite", "hydrateFavorites", "loadRecipes"], "classes": [], "methods": [{"name": "loadFavorites()", "description": "Safely retrieves the favorites list from localStorage, returning an array of recipe IDs.", "scope": "", "scopeKind": ""}, {"name": "saveFavorites(favorites)", "description": "Saves the current favorites array to localStorage with error handling.", "scope": "", "scopeKind": ""}, {"name": "computeFiltered(state)", "description": "Computes filtered, searched, and sorted list of recipes based on current state.", "scope": "", "scopeKind": ""}], "calls": ["localStorage.getItem", "JSON.parse", "localStorage.setItem", "JSON.stringify", "Blits.Store", "listRecipes"], "search-terms": ["Blits store", "favorites persistence", "recipe filtering", "recipe sorting", "recipe loading", "localStorage", "Recipe Explorer", "recipe state management"], "state": 2, "file_id": 54, "knowledge_revision": 151, "git_revision": "25768ead531b43cb5b2d4eb4b2843a51c8ca12a7", "revision_history": [{"111": ""}, {"143": "f117debc25f5cfc557e945172cb8340d23b0ddbb"}, {"150": "f117debc25f5cfc557e945172cb8340d23b0ddbb"}, {"151": "25768ead531b43cb5b2d4eb4b2843a51c8ca12a7"}], "ctags": [{"_type": "tag", "name": "FAVORITES_KEY", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^const FAVORITES_KEY = 'recipe_favorites_v1'$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "by", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^    by: 'rating',         \\/\\/ rating | time | title$/", "language": "JavaScript", "kind": "property", "scope": "initialState.sort", "scopeKind": "class"}, {"_type": "tag", "name": "computeFiltered", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^function computeFiltered(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "cuisine", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^    cuisine: null,$/", "language": "JavaScript", "kind": "property", "scope": "initialState.filters", "scopeKind": "class"}, {"_type": "tag", "name": "difficulty", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^    difficulty: null,$/", "language": "JavaScript", "kind": "property", "scope": "initialState.filters", "scopeKind": "class"}, {"_type": "tag", "name": "direction", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^    direction: 'desc',    \\/\\/ asc | desc$/", "language": "JavaScript", "kind": "property", "scope": "initialState.sort", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^  error: null,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "favorites", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^  favorites: loadFavorites(), \\/\\/ array of recipe ids$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "filtered", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^  filtered: [],           \\/\\/ filtered recipes per filters\\/query\\/sort$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "filters", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^  filters: {$/", "language": "JavaScript", "kind": "class", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "initialState", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^const initialState = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "loadFavorites", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^function loadFavorites() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^  loading: false,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "maxTime", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^    maxTime: null,        \\/\\/ in minutes$/", "language": "JavaScript", "kind": "property", "scope": "initialState.filters", "scopeKind": "class"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^    page: 1,$/", "language": "JavaScript", "kind": "property", "scope": "initialState.pagination", "scopeKind": "class"}, {"_type": "tag", "name": "pageSize", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^    pageSize: 12,$/", "language": "JavaScript", "kind": "property", "scope": "initialState.pagination", "scopeKind": "class"}, {"_type": "tag", "name": "pagination", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^  pagination: {$/", "language": "JavaScript", "kind": "class", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^  query: '',              \\/\\/ free text search$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "recipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^  recipes: [],            \\/\\/ all fetched recipes$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "saveFavorites", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^function saveFavorites(favorites) {$/", "language": "JavaScript", "kind": "function", "signature": "(favorites)"}, {"_type": "tag", "name": "sort", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^  sort: {$/", "language": "JavaScript", "kind": "class", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "store", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^const store = Blits.Store({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^    tags: [],             \\/\\/ array of strings$/", "language": "JavaScript", "kind": "property", "scope": "initialState.filters", "scopeKind": "class"}, {"_type": "tag", "name": "total", "path": "/home/kavia/workspace/code-generation/recipe-explorer-176450-176459/recipe_frontend/src/state/store.js", "pattern": "/^    total: 0,$/", "language": "JavaScript", "kind": "property", "scope": "initialState.pagination", "scopeKind": "class"}], "hash": "8a5b7b33c5d226a2231b6f501d0177ae", "format-version": 4, "code-base-name": "recipe_frontend", "filename": "recipe_frontend/src/state/store.js", "fields": [{"name": "by: 'rating',         \\/\\/ rating | time | title", "scope": "initialState.sort", "scopeKind": "class", "description": "unavailable"}, {"name": "cuisine: null,", "scope": "initialState.filters", "scopeKind": "class", "description": "unavailable"}, {"name": "difficulty: null,", "scope": "initialState.filters", "scopeKind": "class", "description": "unavailable"}, {"name": "direction: 'desc',    \\/\\/ asc | desc", "scope": "initialState.sort", "scopeKind": "class", "description": "unavailable"}, {"name": "error: null,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "favorites: loadFavorites(), \\/\\/ array of recipe ids", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "filtered: [],           \\/\\/ filtered recipes per filters\\/query\\/sort", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "loading: false,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "maxTime: null,        \\/\\/ in minutes", "scope": "initialState.filters", "scopeKind": "class", "description": "unavailable"}, {"name": "page: 1,", "scope": "initialState.pagination", "scopeKind": "class", "description": "unavailable"}, {"name": "pageSize: 12,", "scope": "initialState.pagination", "scopeKind": "class", "description": "unavailable"}, {"name": "query: '',              \\/\\/ free text search", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "recipes: [],            \\/\\/ all fetched recipes", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "tags: [],             \\/\\/ array of strings", "scope": "initialState.filters", "scopeKind": "class", "description": "unavailable"}, {"name": "total: 0,", "scope": "initialState.pagination", "scopeKind": "class", "description": "unavailable"}]}